YUI.add("moodle-atto_uqamprint-button",function(e,t){var n="atto_uqamprint",r={INPUTSUBMIT:"atto_media_urlentrysubmit",INPUTCANCEL:"atto_media_urlentrycancel",FLAVORCONTROL:"flavorcontrol"},i='<form class="atto_form"><div id="{{elementid}}_{{innerform}}" class="mdl-align"><button class="{{CSS.INPUTSUBMIT}}">{{get_string "insert" component}}</button></div></form>';e.namespace("M.atto_uqamprint").Button=e.Base.create("button",e.M.editor_atto.EditorPlugin,[],{initializer:function(){if(this.get("disabled"))return;this.addButton({icon:"ed/print",iconComponent:"atto_uqamprint",callback:this._displayDialogue})},_displayDialogue:function(t){t.preventDefault();var r=400,i=this.getDialogue({headerContent:M.util.get_string("dialogtitle",n),width:r+"px"});i.width!==r+"px"&&i.set("width",r+"px");var s=this._getFormContent(),o=e.Node.create("<div></div>");o.append(s),i.set("bodyContent",o),i.show(),this.markUpdated()},_getFormContent:function(){var t=e.Handlebars.compile(i),s=e.Node.create(t({elementid:this.get("host").get("elementid"),CSS:r,component:n}));return this._form=s,this._form.one("."+r.INPUTSUBMIT).on("click",this._doInsert,this),s},_doInsert:function(t){t.preventDefault(),this.getDialogue({focusAfterHide:null}).hide();var n=e.one(".editor_atto_content_wrap");this.markUpdated();var r=window.open("","Print","height=600,width=800");return r.document.write("<html><head><title>Print</title>"),r.document.write("</head><body >"),r.document.write(n.getHTML()),r.document.write("</body></html>"),r.document.close(),r.focus(),r.print(),r.close(),this.markUpdated(),!0}},{ATTRS:{disabled:{value:!1},usercontextid:{value:null}}})},"@VERSION@",{requires:["moodle-editor_atto-plugin"]});
